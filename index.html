<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTS Code Search Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <div class="page-header">
            <h1>üîç HTS Code Search Dashboard</h1>
            <span class="hts-revision tooltip">
                2026 HTS Revision 2 -
                <span class="tooltip-text">v1.0.13</span>
            </span>

        </div>        
        <div id="adminSection" class="admin-section">
            <div class="stats">
                <div class="stat-box">
                    <div class="stat-label">Total Records</div>
                    <div class="stat-value" id="totalResults">0</div>
                </div>
            </div>
            <div class="upload-section">
                <h3>Import Chapter JSON File (Admin Only)</h3>
                <div class="file-input-wrapper">
                    <input type="file" id="jsonFileInput" accept=".json" multiple>
                    <button class="btn btn-primary" onclick="importJSON()">Import</button>
                </div>
                <div id="statusMessage" class="status-message"></div>
            </div>
        </div>

        <div class="filters-section">

            <!-- MATERIAL FILTER -->
            <div class="filter-group">
                <label>Material Category</label>
                <div class="filter-menu-wrapper">
                    <div class="filter-trigger" id="materialTrigger" onclick="toggleFilterMenu(event, 'material')">All ‚ñæ</div>
                    <div id="materialMenu" class="filter-menu"></div>
                </div>
                <div id="materialNote" class="gender-info-note" style= "margin-top:5px">
                    Material filter is locked to Woven or Non-Woven for this product category.
                </div>
            </div>

            <div class="filter-group gender-group">
                <label class="label-with-info">
                Gender
                <span
                class="info-icon"
                onmouseenter="showInfoOnHover(this)"
                onmouseleave="hideInfoOnHover(this)"
                >
                    i
                    <div class="info-tooltip">
                        HTS Gender Classification Rules:<br><br
                        ‚Ä¢ For garments with a front opening, <b>Left-over-Right closure = Men/Boys</b> and <b>Right-over-Left closure = Women/Girls</b>, unless the cut clearly indicates otherwise.<br><br>
                        ‚Ä¢ If a garment cannot be clearly identified as Men/Boys or Women/Girls, it must be classified under Women/Girls headings.<br><br>
                        ‚Ä¢ <b>Babies</b> are defined as garments for children up to <b>86 cm in height</b> (approx. 0‚Äì24 months) and must be classified under babies‚Äô headings.
                    </div>
                </span>

                </label>

                <div class="filter-menu-wrapper">
                    <div class="filter-trigger" id="genderTrigger" onclick="toggleFilterMenu(event, 'gender')">All ‚ñæ</div>
                    <div id="genderMenu" class="filter-menu"></div>
                </div>
                <div id="genderNote" class="gender-info-note" style="display:none;margin-top:5px"></div>
 
            </div>

            <div class="filter-group">
                <label>Importing Country</label>
                <div class="filter-menu-wrapper">
                    <div class="filter-trigger" id="importingCountryTrigger" onclick="toggleFilterMenu(event, 'importingCountry')" style="cursor: not-allowed; opacity: 0.6;">USA ‚ñæ</div>
                    <div id="importingCountryMenu" class="filter-menu"></div>
                </div>
            </div>

             <div class="filter-group">
                <label>Exporting Country</label>
                <div class="filter-menu-wrapper">
                    <div class="filter-trigger" id="countryTrigger" onclick="toggleFilterMenu(event, 'country')">Select Country ‚ñæ</div>
                    <div id="countryMenu" class="filter-menu"></div>
                </div>
            </div>
          
             <div class="filter-group">
                <label class="label-with-info">
                    Category
                    <span
                    id="categoryInfoIcon"
                    class="info-icon disabled"
                    onmouseenter="showInfoOnHover(this)"
                    onmouseleave="hideInfoOnHover(this)"
                >
                    i
                    <div id="categoryInfoTooltip" class="info-tooltip">
                        Select a category to see its definition.
                    </div>
                </span>

                </label>                
                <div class="category-menu-wrapper">
                    <div class="category-trigger">Select Category ‚ñæ</div>
                    <div id="categoryMenu" class="category-menu"></div>
                </div>
            </div>
   
            <div class="filter-group">
                <label class="label-with-info">
                    Fabric
                    <span
                        class="info-icon"
                        onmouseenter="showInfoOnHover(this)"
                        onmouseleave="hideInfoOnHover(this)"
                        >
                            i
                            <div id="fabricInfoTooltip" class="info-tooltip"></div>
                        </span>

                </label>
                <div class="filter-menu-wrapper">
                    <div class="filter-trigger" id="fabricTrigger" onclick="toggleFilterMenu(event, 'fabric')">All ‚ñæ</div>
                    <div id="fabricMenu" class="filter-menu"></div>
                </div>                
            </div>    
            
            <div class="filter-group">
                <label>Feature</label>
                <div class="filter-menu-wrapper">
                    <div class="filter-trigger" id="featureTrigger" onclick="toggleFilterMenu(event, 'feature')">All ‚ñæ</div>
                    <div id="featureMenu" class="filter-menu"></div>
                </div>
            </div>
            
            <div class="filter-group">
                <label>&nbsp;</label>
            
                <div class="button-row">
            
                    <!-- Reset -->
                    <button
                        type="button"
                        class="icon-btn reset-btn"
                        onclick="resetAllFilters()"
                        data-tooltip="Reset filters"
                        aria-label="Reset filters">

                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            fill="currentColor" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/>
                            <path
                                d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/>
                        </svg>
                    </button>       

                    <!-- Highlight -->
                    <button
                        type="button"
                        id="toggleHighlightBtn"
                        class="icon-btn highlight-btn reset-btn"
                        onclick="toggleHighlight()"
                        data-tooltip="Highlight OFF"
                        aria-label="Enable highlight"
                        aria-pressed="false">

                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                            fill="currentColor" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M11.096.644a2 2 0 0 1 2.791.036l1.433 1.433a2 2 0 0 1 .035 2.791l-.413.435-8.07 8.995a.5.5 0 0 1-.372.166h-3a.5.5 0 0 1-.234-.058l-.412.412A.5.5 0 0 1 2.5 15h-2a.5.5 0 0 1-.354-.854l1.412-1.412A.5.5 0 0 1 1.5 12.5v-3a.5.5 0 0 1 .166-.372l8.995-8.07z"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div id="legacyFilters">
            <div id="search-wrapper" class="search-wrapper">
                <label for="searchInput">Search HTS Code</label>
                <input type="text" id="searchSuggestion" disabled>
                <input type="text" id="searchInput" disabled placeholder="Search disabled ‚Äì use dropdowns">
            </div>
            </div>
        </div>

        <div id="resultsContainer">
            <div class="no-results">
                Load master.json or import JSON files and select filters to view HTS codes
            </div>            
        </div>
    </div>
    <div id="detailModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div class="modal-header">
                <h2>HTS Code Details</h2>
            </div>
            <div class="modal-body" id="modalBody"></div>
        </div>
    </div>

    <script type="module" src="index.js"></script>

</body>
</html>